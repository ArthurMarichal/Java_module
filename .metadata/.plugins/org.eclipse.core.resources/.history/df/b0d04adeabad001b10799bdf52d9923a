package characters;
import java.util.Scanner;
import java.util.ArrayList;
import java.util.List;
import java.util.Random;
/*java.util.Scanner me sert à récuperer ce que l'utilisateur à taper.
 * java.util.ArrayList me sert à faire une liste de mes différents personnages.
 * java.util.List
 *java.util.Random me sert à avoir des nombres aléatoires.
 */
public class menu {

	Scanner scan;
	String value;
	String nw;
	String nw1;
	int nw2;
	static boolean exit = false;
	List<mage> mageCharacters = new ArrayList<>();
	List<war> warCharacters = new ArrayList<>();// ArrayList
	int healthMin = 5;
	int healthMax = 10;
	int powerMin = 6;
	int powerMax = 15;
	Random r = new Random(); //Nombre aléatoires
	menu(){
		this.scan = new Scanner(System.in);
	}

	public static void main(String[] args) {

		menu m = new menu();
		System.out.println("Bonjour et bienvenue dans le nouveau jeu : D&G");

		while(exit==false) { 
			m.display();
		}
	}


	private void display() {
		System.out.println("Faites votre choix : 1 pour un guerrier, 2 pour un mage, 3 pour voir le(s) personnage(s) éxistant(s) ou alors 4 pour quitter.");
		int characterChoice = scan.nextInt();

		if(characterChoice == 1 ) {
			int attackPower = powerMin + r.nextInt(powerMax - powerMin);
			int healthPoints = healthMin + r.nextInt(healthMax - healthMin);
			System.out.println("Vous avez choisi un guerrier !");
			war w = new war();
			scan.nextLine();
			System.out.println("Son nom :");
			w.setName(scan.nextLine());
			System.out.println("Ses PV :");
			w.setLife(healthPoints);
			System.out.println("La PA :");
			w.setPower(attackPower);
			scan.nextLine();
			System.out.println("Son arme :");
			nw1 = scan.nextLine();
			System.out.println("Ses dégats :");
			nw2 = scan.nextInt();
			weapons w1 = new weapons(nw1, nw2);
			w.setWeapon(w1);
			System.out.println("Votre guerrier : " + w);
			System.out.println("Vous désirez changer ses infos ? 1 pour oui, 2 pour non.");
			int nameChoice = scan.nextInt();
			if(nameChoice==1) {
				war w2 = new war();
				scan.nextLine();
				System.out.println("Nouveau nom :");
				w2.setName(scan.nextLine());
				System.out.println("Ses PV :");
				w2.setLife(healthPoints);
				System.out.println("Nouvelle PA :");
				w2.setAttack(attackPower);
				scan.nextLine();
				System.out.println("Nouvelle arme :");
				nw1 = scan.nextLine();
				System.out.println("Ses dégats :");
				nw2 = scan.nextInt();
				weapons nw = new weapons(nw1, nw2);
				w2.setWeapon(nw);
				System.out.println("Votre guerrier : " + w2);
				warCharacters.add(w2);
			}else {
				warCharacters.add(w);
			}
		} else if (characterChoice == 2) {
			int attackPower = powerMin + r.nextInt(powerMax - powerMin);
			int healthPoints = healthMin + r.nextInt(healthMax - healthMin);
			System.out.println("Vous avez choisi un mage !");
			mage m = new mage();
			scan.nextLine();
			System.out.println("Son nom :");
			m.setName(scan.nextLine());
			System.out.println("Ses PV :");
			m.setLife(healthPoints);
			System.out.println("La PA :");
			m.setAttack(attackPower);
			scan.nextLine();
			System.out.println("Son sort :");
			nw1 = scan.nextLine();
			System.out.println("Ses dégats :");
			nw2 = scan.nextInt();
			spells s1 = new spells(nw1, nw2);
			m.setSpell(s1);
			System.out.println("Votre mage : " + m);
			System.out.println("Vous désirez changer ses infos ? 1 pour oui, 2 pour non.");
			int nameChoice = scan.nextInt();
			if(nameChoice==1) {
				mage m2 = new mage();
				scan.nextLine();
				System.out.println("Son nom :");
				m2.setName(scan.nextLine());
				System.out.println("Ses PV :");
				m2.setLife(healthPoints);
				System.out.println("La PA :");
				m2.setAttack(attackPower);
				scan.nextLine();
				System.out.println("Son sort :");
				nw1 = scan.nextLine();
				System.out.println("Ses dégats :");
				nw2 = scan.nextInt();
				spells s2 = new spells(nw1, nw2);
				m2.setSpell(s2);
				System.out.println("Votre mage : " + m2);
				mageCharacters.add(m2);
			}else {
				mageCharacters.add(m);
			}

		}else if(characterChoice == 3) {
			System.out.println("Guerrier(s) :");
			System.out.println(warCharacters);
			System.out.println("Mage(s) :");
			System.out.println(mageCharacters);			
		}else if(characterChoice == 4) {
			exit = true;
			System.out.println("Vous avez choisi de quitter le jeu. Vous ne pourrez donc JAMAIS tuer le dragon !");
		}		
	}
}